<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Dev Tools â€” Complaint CMS</title>
  <link rel="stylesheet" href="style.css">
  <script src="script.js"></script>
  <style>body{padding:18px} .kbd{background:#f1f5f9;padding:6px 8px;border-radius:6px;border:1px solid #e2e8f0;display:inline-block}</style>
</head>
<body>
  <h1>Dev Tools</h1>
  <p>Use these controls to populate sample data or clear local storage for testing.</p>

  <div style="display:flex;gap:8px;flex-wrap:wrap">
    <button id="btn-pop">Populate sample data</button>
    <button id="btn-clear">Clear all complaint data</button>
    <button id="btn-open-user1">Open user1 dashboard</button>
    <button id="btn-open-admin">Open admin panel</button>
    <button id="btn-open-admin-signed">Open admin (signed-in)</button>
  </div>

  <script>
    function setSample(){
      const u1='user1@example.com', u2='user2@example.com';
      localStorage.setItem('complaints:'+u1, JSON.stringify([{id:'a1',t:'Late delivery',d:'Order arrived late',status:'Pending'}]));
      localStorage.setItem('complaints:'+u2, JSON.stringify([{id:'b1',t:'Damaged item',d:'Item was damaged',status:'Pending'}]));
      localStorage.setItem('admin:pending', JSON.stringify([{id:'a1',owner:u1,t:'Late delivery',d:'Order arrived late',status:'Pending'},{id:'b1',owner:u2,t:'Damaged item',d:'Item was damaged',status:'Pending'}]));
      if(window.showToast) showToast('Sample data added'); else alert('Sample data added');
    }
    function clearAll(){
      Object.keys(localStorage).filter(k=>k.startsWith('complaints:')||k==='admin:pending').forEach(k=>localStorage.removeItem(k)); if(window.showToast) showToast('Cleared'); else alert('Cleared');
    }
    document.getElementById('btn-pop').onclick=setSample;
    document.getElementById('btn-clear').onclick=clearAll;
    document.getElementById('btn-open-user1').onclick=()=>{ sessionStorage.setItem('loggedIn','true'); sessionStorage.setItem('email','user1@example.com'); location.href='dashboard.html'; };
    document.getElementById('btn-open-admin').onclick=()=>{ location.href='admin.html'; };
    document.getElementById('btn-open-admin-signed').onclick=()=>{ sessionStorage.setItem('isAdmin','true'); location.href='admin.html'; };
  </script>
</body>
</html>